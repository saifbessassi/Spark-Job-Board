<button
    [disabled]="isLoading"
    (click)="onChangeStatus('open', content)"
    class="btn btn-outline-success mx-2"
    *ngIf="status === 'closed' || status === 'saved'">
    <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    <i *ngIf="!isLoading" class="fas fa-lock-open"></i>
    Open it
</button>
<button 
    class="btn btn-success mx-2"
    disabled
    *ngIf="status === 'open'">
    <i class="fas fa-lock-open"></i>
    Open
</button>

<button
    [disabled]="isLoading"
    (click)="onChangeStatus('closed')"
    class="btn btn-outline-danger mx-2"
    *ngIf="status === 'open'">
    <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    <i *ngIf="!isLoading" class="fas fa-lock"></i>
    Close it
</button>
<button 
    disabled
    class="btn btn-danger mx-2"
    *ngIf="status === 'closed'">
    <i class="fas fa-lock"></i>
    Closed
</button>

<button 
    disabled
    class="btn btn-secondary mx-2"
    *ngIf="status === 'saved'">
    <i class="fas fa-save"></i>
    Saved
</button>

<p class="mb-0"><small class="text-danger">{{errorMsg}}</small></p>


<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Deadline update</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <div class="form-group">
          <label class="mb-3">Deadline date</label>
          <div class="input-group">
            <input 
                id="dateOfBirth"
                [(ngModel)]="deadline"
                class="form-control" 
                placeholder="yyyy-mm-dd" 
                name="dp" 
                ngbDatepicker
                #date="ngbDatepicker"
                [minDate]="minStartDate">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary calendar" (click)="date.toggle()" type="button">
                <i class="fas fa-calendar-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button
        [disabled]="!deadline || !isValidDeadline()" 
        type="button" 
        class="btn btn-outline-dark" 
        (click)="modal.close('Save click')">
        Save
      </button>
    </div>
</ng-template>
